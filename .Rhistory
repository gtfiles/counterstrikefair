usethis::use_readme_rmd()
install.packages("roxygen2")
library(counterstrikefair)
devtools::install_github("gtfiles/counterstrikefair")
library(readxl)
library(rvest)
date_begin <- Sys.Date()-365
date_end <- Sys.Date()
playersurl <- paste0("https://www.hltv.org/stats/players?startDate=", date_begin,"&endDate=", date_end,"&rankingFilter=All")
pistolurl <- paste0("https://www.hltv.org/stats/players/pistols?startDate=", date_begin,"&endDate=", date_end,"&rankingFilter=All")
openingurl <- paste0("https://www.hltv.org/stats/players/openingkills?startDate=", date_begin,"&endDate=", date_end,"&rankingFilter=All")
players <- read_html(playersurl)
players = players %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
players <- data.frame(players)
players <- data.frame(players$X1, players$X3, players$X4, players$X5, players$X6, players$X7)
colnames(players) <- c("Player", "Maps", "Rounds", "KDdiff", "K/D", "Rating2.0")
write.csv(players, "data/players.csv")
write.csv(players, "data/players.csv")
pistols <- read_html(pistolurl)
pistols = pistols %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
pistols <- data.frame(pistols)
pistols<- data.frame(pistols$X1, pistols$X3, pistols$X4, pistols$X5, pistols$X6)
colnames(pistols) <- c("Player", "Maps", "KDdiff", "K/D", "Rating2.0")
write.csv(pistols, "data/pistols.csv")
opening <- read_html(openingurl)
opening = opening %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
opening <- data.frame(opening)
colnames(opening) <- c("Player", "Maps", "Rounds", "KPR", "DPR", "Attempts", "Success", "Rating")
write.csv(opening, "data/opening.csv")
library(readxl)
library(tidyverse)
library(tidyverse)
library(tidyquant)
Team1 <- "MIBR"
Team2 <- "FURIA"
Maps <- c("vtg", "dd2", "ovp")
df.teams <- data.frame(read_xlsx("data/online.xlsx", "lineups"))
setwd("C:/Users/sddhr/Dropbox/My PC (DESKTOP-O95QDRP)/Desktop/R/counterstrikefair")
df.teams <- data.frame(read_xlsx("data/online.xlsx", "lineups"))
df.teams <- data.frame(read_xlsx("C:/Users/sddhr/Dropbox/My PC (DESKTOP-O95QDRP)/Desktop/R/counterstrikefair/data/online.xlsx", "lineups"))
View(df.teams)
df.frags <- data.frame(read_xlsx("C:/Users/sddhr/Dropbox/My PC (DESKTOP-O95QDRP)/Desktop/R/counterstrikefair/data/online.xlsx", "frags"))
df.opening <- data.frame(read_xlsx("C:/Users/sddhr/Dropbox/My PC (DESKTOP-O95QDRP)/Desktop/R/counterstrikefair/data/online.xlsx", "opening"))
df.pistols <- data.frame(read_xlsx("C:/Users/sddhr/Dropbox/My PC (DESKTOP-O95QDRP)/Desktop/R/counterstrikefair/data/online.xlsx", "pistols"))
df.players <- data.frame(df.frags$Player,
df.frags$Maps,
df.frags$NET,
round(df.frags$NET/df.frags$Maps, 2),
df.frags$KDR,
df.frags$Rating2.0,
df.opening$KPR,
df.opening$DPR,
df.opening$Attempts,
df.opening$Success,
df.opening$Rating,
df.pistols$Net,
round(df.pistols$Net/df.pistols$Maps, 2),
df.pistols$KDR)
names(df.players) <- c("Player",
"Maps",
"NET",
"Avg.NET",
"KDR",
"Rating2.0",
"OpenKPR",
"OpenDPR",
"OpenAttempts",
"OpenSuccess",
"OpenRating",
"PistolNET",
"PistolAvgNET",
"PistolKDR")
Team1_p1 <- as.character(VLOOKUP(Team1, df.teams, 'Team', 'Player1'))
Team1_p2 <- as.character(VLOOKUP(Team1, df.teams, 'Team', 'Player2'))
Team1_p3 <- as.character(VLOOKUP(Team1, df.teams, 'Team', 'Player3'))
Team1_p4 <- as.character(VLOOKUP(Team1, df.teams, 'Team', 'Player4'))
Team1_p5 <- as.character(VLOOKUP(Team1, df.teams, 'Team', 'Player5'))
Team2_p1 <- as.character(VLOOKUP(Team2, df.teams, 'Team', 'Player1'))
Team2_p2 <- as.character(VLOOKUP(Team2, df.teams, 'Team', 'Player2'))
Team2_p3 <- as.character(VLOOKUP(Team2, df.teams, 'Team', 'Player3'))
Team2_p4 <- as.character(VLOOKUP(Team2, df.teams, 'Team', 'Player4'))
Team2_p5 <- as.character(VLOOKUP(Team2, df.teams, 'Team', 'Player5'))
Team1.lineup <- c(Team1_p1, Team1_p2, Team1_p3, Team1_p4, Team1_p5)
Team2.lineup <- c(Team2_p1, Team2_p2, Team2_p3, Team2_p4, Team2_p5)
Team1.p1 <- as.numeric(VLOOKUP(Team1.lineup[1], df.players, 'Player', 'Maps'))
Team1.p2 <- as.numeric(VLOOKUP(Team1.lineup[2], df.players, 'Player', 'Maps'))
Team1.p3 <- as.numeric(VLOOKUP(Team1.lineup[3], df.players, 'Player', 'Maps'))
Team1.p4 <- as.numeric(VLOOKUP(Team1.lineup[4], df.players, 'Player', 'Maps'))
Team1.p5 <- as.numeric(VLOOKUP(Team1.lineup[5], df.players, 'Player', 'Maps'))
Team2.p1 <- as.numeric(VLOOKUP(Team2.lineup[1], df.players, 'Player', 'Maps'))
Team2.p2 <- as.numeric(VLOOKUP(Team2.lineup[2], df.players, 'Player', 'Maps'))
Team2.p3 <- as.numeric(VLOOKUP(Team2.lineup[3], df.players, 'Player', 'Maps'))
Team2.p4 <- as.numeric(VLOOKUP(Team2.lineup[4], df.players, 'Player', 'Maps'))
Team2.p5 <- as.numeric(VLOOKUP(Team2.lineup[5], df.players, 'Player', 'Maps'))
Team1.maps <- c(Team1.p1, Team1.p2, Team1.p3, Team1.p4, Team1.p5)
Team2.maps<- c(Team2.p1, Team2.p2, Team2.p3, Team2.p4, Team2.p5)
Team1.p1 <- as.numeric(VLOOKUP(Team1.lineup[1], df.players, 'Player', 'PistolNET'))
Team1.p2 <- as.numeric(VLOOKUP(Team1.lineup[2], df.players, 'Player', 'PistolNET'))
Team1.p3 <- as.numeric(VLOOKUP(Team1.lineup[3], df.players, 'Player', 'PistolNET'))
Team1.p4 <- as.numeric(VLOOKUP(Team1.lineup[4], df.players, 'Player', 'PistolNET'))
Team1.p5 <- as.numeric(VLOOKUP(Team1.lineup[5], df.players, 'Player', 'PistolNET'))
Team2.p1 <- as.numeric(VLOOKUP(Team2.lineup[1], df.players, 'Player', 'PistolNET'))
Team2.p2 <- as.numeric(VLOOKUP(Team2.lineup[2], df.players, 'Player', 'PistolNET'))
Team2.p3 <- as.numeric(VLOOKUP(Team2.lineup[3], df.players, 'Player', 'PistolNET'))
Team2.p4 <- as.numeric(VLOOKUP(Team2.lineup[4], df.players, 'Player', 'PistolNET'))
Team2.p5 <- as.numeric(VLOOKUP(Team2.lineup[5], df.players, 'Player', 'PistolNET'))
Team1_PistolNET <- c(Team1.p1, Team1.p2, Team1.p3, Team1.p4, Team1.p5)
Team2_PistolNET <- c(Team2.p1, Team2.p2, Team2.p3, Team2.p4, Team2.p5)
Team1.PistolAvgNET <- (Team1_PistolNET/Team1.maps)
Team2.PistolAvgNET <- (Team2_PistolNET/Team2.maps)
Team1.p1 <- as.numeric(VLOOKUP(Team1.lineup[1], df.players, 'Player', 'NET'))
Team1.p2 <- as.numeric(VLOOKUP(Team1.lineup[2], df.players, 'Player', 'NET'))
Team1.p3 <- as.numeric(VLOOKUP(Team1.lineup[3], df.players, 'Player', 'NET'))
Team1.p4 <- as.numeric(VLOOKUP(Team1.lineup[4], df.players, 'Player', 'NET'))
Team1.p2 <- as.numeric(VLOOKUP(Team1.lineup[2], df.players, 'Player', 'NET'))
Team1.p3 <- as.numeric(VLOOKUP(Team1.lineup[3], df.players, 'Player', 'NET'))
Team1.p4 <- as.numeric(VLOOKUP(Team1.lineup[4], df.players, 'Player', 'NET'))
Team1.p5 <- as.numeric(VLOOKUP(Team1.lineup[5], df.players, 'Player', 'NET'))
Team2.p1 <- as.numeric(VLOOKUP(Team2.lineup[1], df.players, 'Player', 'NET'))
Team2.p2 <- as.numeric(VLOOKUP(Team2.lineup[2], df.players, 'Player', 'NET'))
Team2.p3 <- as.numeric(VLOOKUP(Team2.lineup[3], df.players, 'Player', 'NET'))
Team2.p4 <- as.numeric(VLOOKUP(Team2.lineup[4], df.players, 'Player', 'NET'))
Team2.p5 <- as.numeric(VLOOKUP(Team2.lineup[5], df.players, 'Player', 'NET'))
Team1_NET <- c(Team1.p1, Team1.p2, Team1.p3, Team1.p4, Team1.p5)
Team2_NET <- c(Team2.p1, Team2.p2, Team2.p3, Team2.p4, Team2.p5)
Team1_AvgNET <- Team1_NET/Team1.maps
Team2_AvgNET <- Team2_NET/Team2.maps
Team1_maps <- c(median(Team1.maps), sum(Team1_PistolNET))
Team1_maps[3] <- 1+(Team1_maps[2]/Team1_maps[1])
Team2_maps <- c(median(Team2.maps), sum(Team2_PistolNET))
Team2_maps[3] <- 1+(Team2_maps[2]/Team2_maps[1])
df.Team1 <- data.frame(Team1.lineup, Team1.maps, Team1_NET, round(Team1_AvgNET, 2), Team1_PistolNET, round(Team1.PistolAvgNET, 2), round((Team1.PistolAvgNET/sum(Team1.PistolAvgNET[1:5]))*0.2, 2))
df.Team2 <- data.frame(Team2.lineup, Team2.maps, Team2_NET, round(Team2_AvgNET, 2), Team2_PistolNET, round(Team2.PistolAvgNET, 2), round((Team2.PistolAvgNET/sum(Team2.PistolAvgNET[1:5]))*0.2, 2))
df.Team1[,1] <- as.character(df.Team1[,1])
df.Team2[,1] <- as.character(df.Team2[,1])
Team1_AvgNET <- signif(Team1_AvgNET, 2)
Team2_AvgNET <- signif(Team2_AvgNET, 2)
names(df.Team1) <- c(Team1, "Total Maps", "NET", "AvgNET", "PistolNET", "PistolAvgNET", "PistolEffiency")
names(df.Team2) <- c(Team2, "Total Maps", "NET", "AvgNET", "PistolNET", "PistolAvgNET", "PistolEffiency")
row.names(df.Team1) <- c("Player1", "Player2", "Player3", "Player4", "Player5")
row.names(df.Team2) <- c("Player1", "Player2", "Player3", "Player4", "Player5")
Team1.R1_R16 <- 1/(Team1_maps[3]/(Team1_maps[3]+Team2_maps[3]))
Team2.R1_R16 <- 1/(Team2_maps[3]/(Team2_maps[3]+Team2_maps[3]))
Team1.R1_R16 <- signif(Team1.R1_R16, 3)
Team2.R1_R16 <- signif(Team2.R1_R16, 3)
H2H.PistolAvgNET <- data.frame(df.Team1$PistolAvgNET)
H2H.PistolAvgNET[,2] <- data.frame(df.Team2$PistolAvgNET)
names(H2H.PistolAvgNET) <- c("Team1", "Team2")
row.names(H2H.PistolAvgNET) <- c("Player1", "Player2", "Player3", "Player4", "Player5")
H2H.PistolAvgNET[,1] <- sort(H2H.PistolAvgNET[,1], decreasing = TRUE)
H2H.PistolAvgNET[,2] <- sort(H2H.PistolAvgNET[,2], decreasing = TRUE)
H2H.PistolAvgNET[,3] <- abs(H2H.PistolAvgNET[,1])+abs(H2H.PistolAvgNET[,2])
t.H2H.PistolAvgNET_1 <- ifelse(H2H.PistolAvgNET$Team1 > 0 & H2H.PistolAvgNET$Team2 > 0, abs(H2H.PistolAvgNET[,1])/abs(H2H.PistolAvgNET[,3]), 0)
t.H2H.PistolAvgNET_2 <- ifelse(H2H.PistolAvgNET$Team1 < 0 & H2H.PistolAvgNET$Team2 < 0, (1-(abs(H2H.PistolAvgNET[,1])/abs(H2H.PistolAvgNET[,3]))), 0)
t.H2H.PistolAvgNET_3 <-  ifelse(H2H.PistolAvgNET$Team1 > 0 & H2H.PistolAvgNET$Team2 < 0, (1-(abs(H2H.PistolAvgNET[,1])/abs(H2H.PistolAvgNET[,3]))), 0)
t.H2H.PistolAvgNET_4 <-  ifelse(H2H.PistolAvgNET$Team1 < 0 & H2H.PistolAvgNET$Team2 > 0, abs(H2H.PistolAvgNET[,1]/abs(H2H.PistolAvgNET[,3])), 0)
remove(t.H2H.PistolAvgNET)
aH2H_PistolAvgNET <- data.frame(t.H2H.PistolAvgNET_1 + t.H2H.PistolAvgNET_2 + t.H2H.PistolAvgNET_3 + t.H2H.PistolAvgNET_4)
t.H2H.PistolAvgNET_1 <- ifelse(H2H.PistolAvgNET$Team1 < 0 & H2H.PistolAvgNET$Team2 < 0, abs(H2H.PistolAvgNET[,1])/abs(H2H.PistolAvgNET[,3]), 0)
t.H2H.PistolAvgNET_2 <- ifelse(H2H.PistolAvgNET$Team1 > 0 & H2H.PistolAvgNET$Team2 > 0, (1-(abs(H2H.PistolAvgNET[,1])/abs(H2H.PistolAvgNET[,3]))), 0)
t.H2H.PistolAvgNET_3 <-  ifelse(H2H.PistolAvgNET$Team1 < 0 & H2H.PistolAvgNET$Team2 > 0, (1-(abs(H2H.PistolAvgNET[,1])/abs(H2H.PistolAvgNET[,3]))), 0)
t.H2H.PistolAvgNET_4 <-  ifelse(H2H.PistolAvgNET$Team1 > 0 & H2H.PistolAvgNET$Team2 < 0, abs(H2H.PistolAvgNET[,1]/abs(H2H.PistolAvgNET[,3])), 0)
aH2H_PistolAvgNET[,2] <- data.frame(t.H2H.PistolAvgNET_1 + t.H2H.PistolAvgNET_2 + t.H2H.PistolAvgNET_3 + t.H2H.PistolAvgNET_4)
names(aH2H_PistolAvgNET) <- c("Team1", "Team2")
row.names(aH2H_PistolAvgNET) <- c("Player1", "Player2", "Player3", "Player4", "Player5")
remove(t.H2H.PistolAvgNET, t.H2H.PistolAvgNET_1, t.H2H.PistolAvgNET_2, t.H2H.PistolAvgNET_3, t.H2H.PistolAvgNET_4)
remove(Team1_AvgNET, Team2_AvgNET, Team1_NET, Team2_NET)
remove(Team1_maps, Team2_maps, Team1.maps, Team2.maps, Team1.lineup, Team2.lineup)
remove(Team1_PistolNET, Team2_PistolNET, Team1.R1_R16, Team2.R1_R16)
remove(Team1.PistolAvgNET, Team2.PistolAvgNET, t.H2H_PistolAvgNET, H2H.PistolAvgNET)
markets <- data.frame(round(1/mean(aH2H_PistolAvgNET[,1]), 3),
round(1/mean(aH2H_PistolAvgNET[,2]), 3))
markets
names(markets) <- c(Team1, Team2)
row.names(markets) <- "Round1 & Round16:"
names(markets) <- c(Team1, Team2)
markets
View(df.pistols)
library(rvest)
library(rvest)
date_begin <- as.date(2020-01-01)
date_end <- Sys.Date()
playersurl <- paste0("https://www.hltv.org/stats/players?startDate=", date_begin,"&endDate=", date_end,"&rankingFilter=All")
pistolurl <- paste0("https://www.hltv.org/stats/players/pistols?startDate=", date_begin,"&endDate=", date_end,"&rankingFilter=All")
date_begin <- as.date(2020-01-01)
date_begin <- Sys.Date()-365
date_end <- Sys.Date()
playersurl <- paste0("https://www.hltv.org/stats/players?startDate=", date_begin,"&endDate=", date_end,"&rankingFilter=All")
pistolurl <- paste0("https://www.hltv.org/stats/players/pistols?startDate=", date_begin,"&endDate=", date_end,"&rankingFilter=All")
openingurl <- paste0("https://www.hltv.org/stats/players/openingkills?startDate=", date_begin,"&endDate=", date_end,"&rankingFilter=All")
players <- read_html(playersurl)
players = players %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
players <- data.frame(players)
players <- data.frame(players$X1, players$X3, players$X4, players$X5, players$X6, players$X7)
colnames(players) <- c("Player", "Maps", "Rounds", "KDdiff", "K/D", "Rating2.0")
write.csv(players, "data/players.csv")
pistols <- read_html(pistolurl)
pistols = pistols %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
pistols <- data.frame(pistols)
pistols<- data.frame(pistols$X1, pistols$X3, pistols$X4, pistols$X5, pistols$X6)
colnames(pistols) <- c("Player", "Maps", "KDdiff", "K/D", "Rating2.0")
write.csv(pistols, "data/pistols.csv")
opening <- read_html(openingurl)
opening = opening %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
opening <- data.frame(opening)
colnames(opening) <- c("Player", "Maps", "Rounds", "KPR", "DPR", "Attempts", "Success", "Rating")
write.csv(opening, "data/opening.csv")
install.packages("DescTools")
library(DescTools)
MarginData <- XLGetRange(header=TRUE)
install.packages("RDCOMClient",repos="http://www.omegahat.net/R")
MarginData <- XLGetRange(header=TRUE)
library(DescTools)
MarginData <- XLGetRange(header=TRUE)
install.packages('RDCOMClient', repos = 'http://www.stats.ox.ac.uk/pub/RWin/')
MarginData <- XLGetRange(header=TRUE)
install.packages("RDCOMClient")
MarginData <- XLGetRange(header=TRUE)
library(DescTools)
MarginData <- XLGetRange(header=TRUE)
install.packages('RDCOMClient', repos = 'http://www.stats.ox.ac.uk/pub/RWin/')
install.packages('RDCOMClient', repos = 'http://www.stats.ox.ac.uk/pub/RWin/')
find(s1mple, pistols)
find(what = "s1mple", pistols)
find(what = "ZywOo", pistols)
filter(pistols)
filter(pistols$Player)
filter(s1mple, pistols$Player)
opening %>% gt
library(gz)
library(gt)
opening %>% gt
install.packages(c("cli", "dtplyr", "fansi", "glue", "greybox", "lamW", "magrittr", "Matrix", "nloptr", "pillar", "quantreg", "RcppArmadillo", "reticulate", "rlang", "RQuantLib", "smooth", "testthat", "timetk", "yaml"))
library(desctools)
library(DescTools)
XLGetRange()
install.packages("RDCOMClient")
install.packages("mlogit")
library(mlogit)
fludata <- read.csv("C:\Users/sddhr/Dropbox/My PC (DESKTOP-O95QDRP)/Desktop/Ex_Files_Regression_R_Excel/Exercise Files/Chapter 4/fludata.csv")
fludata <- read.csv("C:/Users/sddhr/Dropbox/My PC (DESKTOP-O95QDRP)/Desktop/Ex_Files_Regression_R_Excel/Exercise Files/Chapter 4/fludata.csv")
fludata
colnames(fludata) <- c("Flu","Dosage","Age","Sex")
head(fluedata)
head(fludata)
library(mlogit)
LongFormat <- mlogit.data(fludata, choice = "Flu", shape = "wide")
LongFormat
head(LongFormat,12)
View(fludata)
LogitModel <- mlogit(Flu ~ 1 | Dosage + Age + Sex, data = LongFormat)
LogitModel
summary(LogitModel)
GLMLogit <- glm(Flu ~ Dosage + Age + Sex,data=fludata,family="binominal")
GLMLogit <- glm(Flu ~ Dosage + Age + Sex,data=fludata,family="binomial")
summary(GLMLogit)
data("Fishing",package="mlogit")
Fish<-mlogit.data(Fishing,varying=c(2:9),shape="wide",choice="mode")
head(Fish)
TwoGenericCoeffs <- mlogit(mode ~ price + catch | income, data = Fish)
TwoGenericCoeffs
summary(TwoGenericCoeffs)
OneGenericCoeff <- mlogit(mode ~ price | income | catch, data = Fish)
summary(OneGenericCoeff)
library(rvest)
date_begin <- Sys.Date()-365
date_end <- Sys.Date()
url_players <- paste0("https://www.hltv.org/stats/players?startDate=", date_begin,"&endDate=", date_end,"&rankingFilter=All")
url_pistolrounds <- paste0("https://www.hltv.org/stats/players/pistols?startDate=", date_begin,"&endDate=", date_end,"&rankingFilter=All")
url_opening <- paste0("https://www.hltv.org/stats/players/openingkills?startDate=", date_begin,"&endDate=", date_end,"&rankingFilter=All")
players <- read_html(url_players)
players = players %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
players <- data.frame(players)
players <- data.frame(players$X1, players$X3, players$X4, players$X5, players$X6, players$X7)
colnames(players) <- c("Player", "Maps", "Rounds", "KDdiff", "K/D", "Rating2.0")
write.csv(players, "data/players.csv")
pistols <- read_html(url_pistolrounds)
pistols = pistols %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
pistols <- data.frame(pistols)
pistols<- data.frame(pistols$X1, pistols$X3, pistols$X4, pistols$X5, pistols$X6)
colnames(pistols) <- c("Player", "Maps", "KDdiff", "K/D", "Rating2.0")
write.csv(pistols, "data/pistols.csv")
opening <- read_html(url_opening)
opening = opening %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
opening <- data.frame(opening)
colnames(opening) <- c("Player", "Maps", "Rounds", "KPR", "DPR", "Attempts", "Success", "Rating")
write.csv(opening, "data/opening.csv")
df.players <- read_html(url_players)
df.players = df.players %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
df.players <- data.frame(df.players)
df.players <- data.frame(players$X1, players$X3, players$X4, players$X5, players$X6, players$X7)
colnames(df.players) <- c("Player", "Maps", "Rounds", "KDdiff", "K/D", "Rating2.0")
df.players <- read_html(url_players)
df.players = df.players %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
df.players <- data.frame(df.players)
df.players <- data.frame(df.players$X1, df.players$X3, df.players$X4, df.players$X5, df.players$X6, df.players$X7)
colnames(df.players) <- c("Player", "Maps", "Rounds", "KDdiff", "K/D", "Rating2.0")
write.csv(players, "data/players.csv")
df.pistolrounds <- read_html(url_pistolrounds)
df.pistolrounds = df.pistolrounds %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
df.pistolrounds <- data.frame(df.pistolroundss)
df.pistolrounds <- data.frame(df.pistolrounds$X1, df.pistolrounds$X3, df.pistolrounds$X4, df.pistolrounds$X5, df.pistolrounds$X6)
df.pistolrounds <- read_html(url_pistolrounds)
df.pistolrounds = df.pistolrounds %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
df.pistolrounds <- data.frame(df.pistolrounds)
df.pistolrounds <- data.frame(df.pistolrounds$X1, df.pistolrounds$X3, df.pistolrounds$X4, df.pistolrounds$X5, df.pistolrounds$X6)
colnames(df.pistolrounds) <- c("Player", "Maps", "KDdiff", "K/D", "Rating2.0")
write.csv(df.pistolrounds, "data/pistols.csv")
df.opening <- read_html(url_opening)
df.opening = df.opening %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
df.opening <- data.frame(df.opening)
colnames(df.opening) <- c("Player", "Maps", "Rounds", "KPR", "DPR", "Attempts", "Success", "Rating")
write.csv(df.opening, "data/opening.csv")
rm(opening, pistols, players)
df.pistolrounds <- read_html(url_pistolrounds)
df.pistolrounds <- df.pistolrounds %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
df.pistolrounds <- data.frame(df.pistolrounds)
df.pistolrounds <- data.frame(df.pistolrounds$X1, df.pistolrounds$X3, df.pistolrounds$X4, df.pistolrounds$X5, df.pistolrounds$X6)
colnames(df.pistolrounds) <- c("Player", "Maps", "KDdiff", "K/D", "Rating2.0")
write.csv(df.pistolrounds, "data/pistols.csv")
df.opening <- read_html(url_opening)
df.opening <- df.opening %>% html_nodes(xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
df.opening <- data.frame(df.opening)
colnames(df.opening) <- c("Player", "Maps", "Rounds", "KPR", "DPR", "Attempts", "Success", "Rating")
write.csv(df.opening, "data/opening.csv")
View(df.opening)
url_players <- paste0("https://www.hltv.org/stats/players?startDate=",
date_begin,"&endDate=", date_end,"&rankingFilter=All")
url_pistolrounds <- paste0("https://www.hltv.org/stats/players/pistols?startDate=",
date_begin,"&endDate=", date_end,"&rankingFilter=All")
url_players <- paste0(
"https://www.hltv.org/stats/players?startDate=",
date_begin,"&endDate=", date_end,"&rankingFilter=All")
url_pistolrounds <- paste0(
"https://www.hltv.org/stats/players/pistols?startDate=",
date_begin,"&endDate=", date_end,"&rankingFilter=All")
url_opening <- paste0(
"https://www.hltv.org/stats/players/openingkills?startDate=",
date_begin,"&endDate=", date_end,"&rankingFilter=All")
df.opening <- read_html(url_opening)
df.opening <- df.opening %>% html_nodes(
xpath = "/html/body/div[2]/div/div[2]/div[1]/div[2]/table/tbody") %>%
html_table()
df.opening <- data.frame(df.opening)
colnames(df.opening) <- c("Player", "Maps", "Rounds", "KPR", "DPR",
"Attempts", "Success", "Rating")
write.csv(df.opening, "data/opening.csv")
